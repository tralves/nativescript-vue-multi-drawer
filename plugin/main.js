module.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(e,t){e.exports=require("tslib")},function(e,t){e.exports=require("vue-property-decorator")},function(e,t){e.exports=require("merge-options")},function(e,t){e.exports=require("tns-core-modules/utils/utils")},function(e,t){e.exports=require("nativescript-vue")},function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("GridLayout",{attrs:{columns:e.computedLayout.grid.columns,rows:e.computedLayout.grid.rows}},[i("ContentView",{attrs:{col:e.computedLayout.main.col}},[e._t("default")],2),i("Label",{directives:[{name:"show",rawName:"v-show",value:e.backdropVisible,expression:"backdropVisible"}],ref:"backDrop",attrs:{col:e.computedLayout.main.col,iosOverflowSafeArea:"true",opacity:"0",backgroundColor:e.optionsInternal.backdropColor},on:{pan:e.onBackDropPan,tap:function(t){e.close()}}}),e._l(e.computedSidesEnabled,function(t){return[i("GridLayout",{key:t,ref:t+"Drawer",refInFor:!0,style:e.computedDrawerStyle(t),attrs:{col:e.computedLayout[t].col},on:{layoutChanged:function(i){e.onDrawerLayoutChange(t)},tap:e.noop,pan:function(i){e.onDrawerPan(t,i)}}},[e._t(t)],2),e.optionsInternal[t].fixed?e._e():i("Label",e._b({directives:[{name:"show",rawName:"v-show",value:e.computedShowSwipeOpenTrigger(t),expression:"computedShowSwipeOpenTrigger(side)"}],key:t+"Trigger",attrs:{IsPassThroughParentEnabled:"true",col:e.computedLayout[t].col},on:{pan:function(i){e.onOpenTriggerPan(t,i)}}},"Label",e.computedSwipeOpenTriggerProperties(t),!1))]})],2)};n._withStripped=!0;var r=i(0),o=i(3),s=i(2),a=i.n(s),p=i(1),l=i(4),u={debug:!1,backdropColor:"rgba(0, 0, 0, 0.7)",left:{width:"70%",height:null,enabled:!0,fixed:!1,backgroundColor:"#ffffff",canSwipeOpen:!0,swipeOpenTriggerWidth:30,swipeOpenTriggerHeight:null,swipeOpenTriggerMinDrag:30,swipeCloseTriggerMinDrag:30,swipeOpenTriggerProperties:{},animation:{openDuration:300,closeDuration:300},translationOffsetMultiplier:-1,axis:"X"},right:{width:"70%",height:null,enabled:!0,fixed:!1,backgroundColor:"#ffffff",canSwipeOpen:!0,swipeOpenTriggerWidth:30,swipeOpenTriggerHeight:null,swipeOpenTriggerMinDrag:30,swipeCloseTriggerMinDrag:30,swipeOpenTriggerProperties:{},animation:{openDuration:300,closeDuration:300},translationOffsetMultiplier:1,axis:"X"},top:{width:null,height:"40%",enabled:!0,fixed:!1,backgroundColor:"#ffffff",canSwipeOpen:!0,swipeOpenTriggerWidth:null,swipeOpenTriggerHeight:30,swipeOpenTriggerMinDrag:30,swipeCloseTriggerMinDrag:30,swipeOpenTriggerProperties:{},animation:{openDuration:300,closeDuration:300},translationOffsetMultiplier:-1,axis:"Y"},bottom:{width:null,height:"40%",enabled:!0,fixed:!1,backgroundColor:"#ffffff",canSwipeOpen:!0,swipeOpenTriggerWidth:null,swipeOpenTriggerHeight:30,swipeOpenTriggerMinDrag:30,swipeCloseTriggerMinDrag:30,swipeOpenTriggerProperties:{},animation:{openDuration:300,closeDuration:300},translationOffsetMultiplier:1,axis:"Y"}};var d=function(e,t,i,n,r,o,s,a){var p,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=p):r&&(p=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),p)if(l.functional){l._injectStyles=p;var u=l.render;l.render=function(e,t){return p.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,p):[p]}return{exports:e,options:l}}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.optionsInternal={},t.sides={left:{open:!1,invisible:!0,translation:0,translationOffset:0},right:{open:!1,invisible:!0,translation:0,translationOffset:0},top:{open:!1,invisible:!0,translation:0,translationOffset:0},bottom:{open:!1,invisible:!0,translation:0,translationOffset:0}},t.backdropVisible=!1,t.isAnimating=!1,t.isPanning=!1,t.layoutColumns="*",t.layoutRows="*",t.prevDeltaX=0,t.prevDeltaY=0,t}return r.__extends(t,e),t.prototype.stateChanged=function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return this.computedOpenSide===e?[3,2]:[4,this.close()];case 1:t.sent(),t.label=2;case 2:return e&&this.open(e),[2]}})})},t.prototype.onOptionsChanged=function(e){this.optionsInternal=a()(u,e)},Object.defineProperty(t.prototype,"computedSidesEnabled",{get:function(){var e=this,t=Object.keys(this.sides);return Object.keys(this.$slots).filter(function(i){return-1!==t.indexOf(i)&&e.optionsInternal[i].enabled})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computedDrawerStyle",{get:function(){var e=this;return function(t){var i,n=e.sides[t].open||e.optionsInternal[t].fixed||!e.sides[t].invisible||!0!==e.sides[t].invisible;return r.__assign({},n?{}:{transform:"translate"+e.optionsInternal[t].axis+"("+e.sides[t].translationOffset+")"},e.optionsInternal[t].width?{width:e.optionsInternal[t].width}:{},e.optionsInternal[t].height?{height:e.optionsInternal[t].height}:{},((i={backgroundColor:e.optionsInternal[t].backgroundColor,visibility:n?"visible":"hidden"})["X"===e.optionsInternal[t].axis?"horizontalAlignment":"verticalAlignment"]=t,i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computedSwipeOpenTriggerProperties",{get:function(){var e=this;return function(t){var i;return r.__assign({},e.optionsInternal[t].swipeOpenTriggerWidth?{width:e.optionsInternal[t].swipeOpenTriggerWidth}:{},e.optionsInternal[t].swipeOpenTriggerHeight?{height:e.optionsInternal[t].swipeOpenTriggerHeight}:{},((i={})["X"===e.optionsInternal[t].axis?"horizontalAlignment":"verticalAlignment"]=t,i),e.optionsInternal.debug?{backgroundColor:"rgba(0, 255, 0, 0.3)"}:{},e.optionsInternal[t].swipeOpenTriggerProperties)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computedShowSwipeOpenTrigger",{get:function(){var e=this;return function(t){return!!e.optionsInternal[t].canSwipeOpen&&!(e.computedOpenSide||e.isPanning||e.isAnimating)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computedOpenSide",{get:function(){var e=this;return this.computedSidesEnabled.find(function(t){return e.sides[t].open})||!1},enumerable:!0,configurable:!0}),t.prototype.isSideOpened=function(e){return void 0===e&&(e=null),e||(e=this.computedSidesEnabled[0]),!0===this.sides[e].open},Object.defineProperty(t.prototype,"computedLayout",{get:function(){var e=this.optionsInternal;return{grid:{columns:(e.left.fixed?"auto,":"")+"*"+(e.right.fixed?", auto":""),rows:"*"},main:{col:e.left.fixed?1:0},left:{col:0},right:{col:(e.left.fixed?1:0)+(e.right.fixed?1:0)},top:{col:e.left.fixed?1:0},bottom:{col:e.left.fixed?1:0}}},enumerable:!0,configurable:!0}),t.prototype.noop=function(){},Object.defineProperty(t.prototype,"backDrop",{get:function(){return this.$refs.backDrop.nativeView},enumerable:!0,configurable:!0}),t.prototype.open=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=1),r.__awaiter(this,void 0,void 0,function(){var i;return r.__generator(this,function(n){switch(n.label){case 0:if(!e){if(!this.computedSidesEnabled.length)throw new Error("No sides are enabled, at least one side must be enabled to open the drawer");e=this.computedSidesEnabled[0]}return-1===this.computedSidesEnabled.indexOf(e)?[2]:this.isPanning||this.isAnimating?[2]:(this.isPanning=!1,this.backdropVisible=!0,this.sides[e].invisible=!1,0===t?[3,2]:(this.isAnimating=!0,i=this.optionsInternal[e].animation.openDuration*t,this.$refs.backDrop.nativeView.animate({opacity:1,duration:i}),[4,this.$refs[e+"Drawer"][0].nativeView.animate({translate:{x:0,y:0},duration:i})]));case 1:n.sent(),this.isAnimating=!1,n.label=2;case 2:return this.sides[e].open=!0,this.$emit("stateChange",e),[2]}})})},t.prototype.close=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=1),r.__awaiter(this,void 0,void 0,function(){var i;return r.__generator(this,function(n){switch(n.label){case 0:return this.isAnimating?[2]:(e||(e=this.computedOpenSide),e?(this.isPanning=!1,0===t?[3,2]:(this.isAnimating=!0,i=this.optionsInternal[e].animation.closeDuration*t,this.$refs[e+"Drawer"][0].nativeView.animate({translate:{x:"X"===this.optionsInternal[e].axis?this.sides[e].translationOffset:0,y:"Y"===this.optionsInternal[e].axis?this.sides[e].translationOffset:0},duration:i}),[4,this.$refs.backDrop.nativeView.animate({opacity:0,duration:i})])):[2]);case 1:n.sent(),this.isAnimating=!1,n.label=2;case 2:return this.sides[e].open=!1,this.sides[e].invisible=!0,this.backdropVisible=!1,this.$emit("stateChange",!1),[2]}})})},t.prototype.onDrawerLayoutChange=function(e){var t=this.$refs[e+"Drawer"][0].nativeView;this.sides[e].translationOffset=this.optionsInternal[e].translationOffsetMultiplier*o.layout.toDeviceIndependentPixels("X"===this.optionsInternal[e].axis?t.getMeasuredWidth():t.getMeasuredHeight())},t.prototype.onBackDropPan=function(e){this.onDrawerPan(this.computedOpenSide,e)},t.prototype.onOpenTriggerPan=function(e,t){this.onDrawerPan(e,t)},t.prototype.onDrawerPan=function(e,t){if(!1!==e&&!this.optionsInternal[e].fixed&&e&&!(this.isPanning&&this.isPanning!==e||this.isAnimating)){var i=this.$refs[e+"Drawer"][0].nativeView,n=0;if(1===t.state)this.isPanning=e,this.sides[e].open||(this.$refs.backDrop.nativeView.opacity=0,this.backdropVisible=!0,this.sides[e].invisible=!1),this.prevDeltaX=0,this.prevDeltaY=0;else if(2===t.state)"X"===this.optionsInternal[e].axis?(this.constrainX(i,e,i.translateX+(t.deltaX-this.prevDeltaX)),n=Math.abs(i.translateX)/Math.abs(this.sides[e].translationOffset)):(this.constrainY(i,e,i.translateY+(t.deltaY-this.prevDeltaY)),n=Math.abs(i.translateY)/Math.abs(this.sides[e].translationOffset)),this.prevDeltaX=t.deltaX,this.prevDeltaY=t.deltaY,this.$refs.backDrop.nativeView.opacity=1-n;else if(3===t.state){if(this.isPanning=!1,this.computedOpenSide===e){var r=0;(r="X"===this.optionsInternal[e].axis?Math.abs(i.translateX):Math.abs(i.translateY))>this.optionsInternal[e].swipeCloseTriggerMinDrag?this.close(e,1-r/Math.abs(this.sides[e].translationOffset)):this.open(e,r/Math.abs(this.sides[e].translationOffset))}else{var o=Math.abs(this.sides[e].translationOffset),s=this.optionsInternal[e].translationOffsetMultiplier,a=0;(a="X"===this.optionsInternal[e].axis?o-s*i.translateX:o-s*i.translateY)<this.optionsInternal[e].swipeOpenTriggerMinDrag?this.close(e,a/Math.abs(this.sides[e].translationOffset)):this.open(e,1-a/Math.abs(this.sides[e].translationOffset))}this.prevDeltaX=0,this.prevDeltaY=0}}},t.prototype.constrainX=function(e,t,i){var n=this.sides[t].translationOffset,r=i;n<0?i>0?r=0:this.sides[t].open&&i<n&&(r=n):i<0?r=0:this.sides[t].open&&i>n&&(r=n),e.translateX=r},t.prototype.constrainY=function(e,t,i){var n=this.sides[t].translationOffset,r=i;n<0?i>0?r=0:this.sides[t].open&&i<n&&(r=n):i<0?r=0:this.sides[t].open&&i>n&&(r=n),e.translateY=r},r.__decorate([Object(p.Model)("state",{type:[String,Boolean],default:!1}),r.__metadata("design:type",Boolean)],t.prototype,"state",void 0),r.__decorate([Object(p.Prop)({type:Boolean,default:!0}),r.__metadata("design:type",Boolean)],t.prototype,"enabled",void 0),r.__decorate([Object(p.Prop)({type:Object,required:!1}),r.__metadata("design:type",Object)],t.prototype,"options",void 0),r.__decorate([Object(p.Watch)("state"),r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object]),r.__metadata("design:returntype",Promise)],t.prototype,"stateChanged",null),r.__decorate([Object(p.Watch)("options",{immediate:!0,deep:!0}),r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object]),r.__metadata("design:returntype",void 0)],t.prototype,"onOptionsChanged",null),t=r.__decorate([Object(p.Component)({})],t)}(i.n(l).a),n,[],!1,null,null,null);d.options.__file="MultiDrawer.vue";var c=d.exports,f={install:function(e,t){console.log("installing MultiDrawer plugin",t),t&&function(e){u=a()(u,e)}(t),e.component("MultiDrawer",c)}};t.default=f}]);